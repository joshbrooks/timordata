{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load render_table from django_tables2 %}
{% load crispy_forms_tags %}
{% load static %}

{% block script %}
    {{block.super}}
    <script src='{% static "js/bootstrap-multiselect.js" %}'></script>
    <script src='{% static "bootstrap-modal/js/bootstrap-modal.js" %}'></script>
    <script src='{% static "bootstrap-modal/js/bootstrap-modalmanager.js" %}'></script>
    <script src='{% static "js/bootstrap-multiselect-collapsible-groups.js" %}'></script>
    <script src='{% static "object_list.js" %}'></script>
    <script src='{% static "select2/js/select2.min.js" %}'></script>
    <script src='{% static "simply-toast/simply-toast.js" %}'></script>
    <script src='{% static "js/spin/jquery-waiting.js" %}'></script>
    <script src='{% static "jquery.form.min.js" %}'></script>
    <script src='{% static "chosen_v1.4.2/chosen.jquery.min.js" %}'></script>
    <script src='{% static "chosen-ajax-addition-master/chosen.ajaxaddition.jquery.js" %}'></script>
    <script src='{% static "jasny-bootstrap.min.js" %}'></script>
    <script src='{% static "zebra/javascript/zebra_datepicker.js" %}'> </script>
    <script src='{% static "summernote/summernote.js" %}'></script>
    {% comment %}
    This is a trivial function to reverse email obfuscation: it's reversed and rot13 encoded. The obfuscated code is shown below.
    Note that it provides 3 functions for a string: .reverse, .dotat, .rot13
    <script>
    String.prototype.reverse = function () {return this.split("").reverse().join("");};
    String.prototype.dotat = function () {return this.replace(/ at /gi, '@').replace(/ dot /gi ,'.')};
    String.prototype.rot13 = function () {return this.replace(/[a-zA-Z]/gi, function (c) {return String.fromCharCode(
        (c <= "Z" ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26);});};
    $(document).ready(function(){
        $('button.showliame').on('click', function(){
            var table = $('.email').parents('table:first')
            var index = $('.email').parent().children().index( $('.email') )
            $(this).addClass('disabled')
            table.find('tbody tr').each(function(){
                var i = $(this).children('td')[index];
                $(i).css({color:'green'});
                $(i).text($(i).text().reverse().rot13().dotat())
            })
        });
    });
    </script>
    {% endcomment %}
    <script>
    var _0x7972=["\x72\x65\x76\x65\x72\x73\x65","\x70\x72\x6F\x74\x6F\x74\x79\x70\x65","","\x6A\x6F\x69\x6E","\x73\x70\x6C\x69\x74","\x64\x6F\x74\x61\x74","\x2E","\x72\x65\x70\x6C\x61\x63\x65","\x40","\x72\x6F\x74\x31\x33","\x5A","\x63\x68\x61\x72\x43\x6F\x64\x65\x41\x74","\x66\x72\x6F\x6D\x43\x68\x61\x72\x43\x6F\x64\x65","\x63\x6C\x69\x63\x6B","\x74\x61\x62\x6C\x65\x3A\x66\x69\x72\x73\x74","\x70\x61\x72\x65\x6E\x74\x73","\x2E\x65\x6D\x61\x69\x6C","\x69\x6E\x64\x65\x78","\x63\x68\x69\x6C\x64\x72\x65\x6E","\x70\x61\x72\x65\x6E\x74","\x64\x69\x73\x61\x62\x6C\x65\x64","\x61\x64\x64\x43\x6C\x61\x73\x73","\x74\x64","\x67\x72\x65\x65\x6E","\x63\x73\x73","\x74\x65\x78\x74","\x65\x61\x63\x68","\x74\x62\x6F\x64\x79\x20\x74\x72","\x66\x69\x6E\x64","\x6F\x6E","\x62\x75\x74\x74\x6F\x6E\x2E\x73\x68\x6F\x77\x6C\x69\x61\x6D\x65","\x72\x65\x61\x64\x79"];String[_0x7972[1]][_0x7972[0]]=function(){return this[_0x7972[4]](_0x7972[2])[_0x7972[0]]()[_0x7972[3]](_0x7972[2])};String[_0x7972[1]][_0x7972[5]]=function(){return this[_0x7972[7]](/ at /gi,_0x7972[8])[_0x7972[7]](/ dot /gi,_0x7972[6])};String[_0x7972[1]][_0x7972[9]]=function(){return this[_0x7972[7]](/[a-zA-Z]/gi,function(_0xf065x1){return String[_0x7972[12]]((_0xf065x1<=_0x7972[10]?90:122)>=(_0xf065x1=_0xf065x1[_0x7972[11]](0)+13)?_0xf065x1:_0xf065x1-26)})};$(document)[_0x7972[31]](function(){$(_0x7972[30])[_0x7972[29]](_0x7972[13],function(){var _0xf065x2=$(_0x7972[16])[_0x7972[15]](_0x7972[14]);var _0xf065x3=$(_0x7972[16])[_0x7972[19]]()[_0x7972[18]]()[_0x7972[17]]($(_0x7972[16]));$(this)[_0x7972[21]](_0x7972[20]);_0xf065x2[_0x7972[28]](_0x7972[27])[_0x7972[26]](function(){var _0xf065x4=$(this)[_0x7972[18]](_0x7972[22])[_0xf065x3];$(_0xf065x4)[_0x7972[24]]({color:_0x7972[23]});$(_0xf065x4)[_0x7972[25]]($(_0xf065x4)[_0x7972[25]]()[_0x7972[0]]()[_0x7972[9]]()[_0x7972[5]]());});})});
    </script>

{% endblock script %}
 {% block style %}
{{block.super}}
    <link href='{% static "timordata.css" %}' rel="stylesheet">
    <link href='{% static "css/object_list.css" %}' rel="stylesheet">
    <link href='{% static "leaflet/dist/leaflet.css" %}' rel="stylesheet">
    <link href='{% static "select2/css/select2.min.css" %}' rel="stylesheet">
    <link href='{% static "css/bootstrap-multiselect.css" %}' rel="stylesheet">
    <link href='{% static "bootstrap-modal/css/bootstrap-modal-bs3patch.css" %}' rel="stylesheet" />
    <link href='{% static "bootstrap-modal/css/bootstrap-modal.css" %}' rel="stylesheet" />
    <link href='{% static "chosen_v1.4.2/chosen.min.css" %}' rel="stylesheet" />
    <link href='{% static "js/spin/jquery-waiting.css" %}' rel="stylesheet" />
    <link href='{% static "zebra/css/bootstrap.css" %}' rel="stylesheet" />
    <link href='{% static "jasny-bootstrap.min.css" %}' rel="stylesheet">
    <link href='{% static "django_tables2/themes/paleblu/css/screen.css" %}' rel="stylesheet">
    <link href='{% static "summernote/summernote.css" %}' rel="stylesheet">
{% endblock style %}

{% block bodyopen %}  <body data-spy="scroll" data-target="#listactions"> {% endblock %}
{% block containerclass %}container-fluid{% endblock %}>

{% block content %}

{% block modals %}
<div id="modalform" class="modal fade" tabindex="-1" data-backdrop="static" data-focus-on="input:first" style="display: none;">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h4 class="modal-title">Stack One</h4>
  </div>
  <div class="modal-body">

  </div>
  <div class="modal-footer">
    <button type="button" data-dismiss="modal" class="btn btn-default">Close</button>
    <button type="button" class="btn btn-primary">Ok</button>
  </div>
</div>

<div id="modaldeleteform" class="modal fade" tabindex="-1" data-focus-on="input:first" style="display: none;">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h4 class="modal-title">Stack One</h4>
  </div>
  <div class="modal-body">
    <p>Modal form for creation of an object</p>
  </div>
  <div class="modal-footer">
    <button type="button" data-dismiss="modal" class="btn btn-default">Close</button>
    <button id="modal-form-delete" type="button" class="btn btn-danger">Delete</button>
  </div>
</div>

{% endblock modals %}
<div class="row">
    <div class="col col-lg-12 col-sm-12">
        {% block header %}
            <!--Header text here-->
        {% endblock header %}
    </div>
</div>

<div class="row">
    <div id="rightpane" class="col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
        {% comment %} Use context item "tabs" to change title of tabs through context {% endcomment %}
         <ul id="object-tabs" class="nav nav-tabs" role="tablist" style="margin-bottom:30px;">{% if not tabs.first.disabled %}
            <li role="presentation"><a href="#first-tab" aria-controls="home" role="tab" data-toggle="tab">{{ tabs.first.name|default:"Dashboard" }}</a></li>{% endif %} {% if not tabs.second.disabled %}
            <li role="presentation"><a href="#second-tab" aria-controls="profile" role="tab" data-toggle="tab">{{ tabs.second.name|default:"List" }}</a></li>{% endif %} {% if not tabs.third.disabled %}
            <li role="presentation"><a href="#third-tab" aria-controls="messages" role="tab" data-toggle="tab">{{ tabs.third.name|default:"Detail" }}</a></li>{% endif %} {% if tabs.fourth.enabled %}
            <li role="presentation"><a href="#fourth-tab" aria-controls="settings" role="tab" data-toggle="tab">{{ tabs.fourth.name|default:"Help" }}</a></li>{% endif %}
          </ul>

      <div class="tab-content">
        {% if not tabs.first.disabled %}
        <div role="tabpanel" class="tab-pane" id="first-tab">{% block tab_first %}
            <h4>{{ tabs.first.name|default:"Dashboard" }}</h4>
            <p>...</p>{% endblock %}
        </div>
        {% endif %}
        {% if not tabs.second.disabled %}
        <div role="tabpanel" class="tab-pane" id="second-tab">{% block tab_second %}
            <h4>List</h4>
            <p>...</p>{% endblock %}
        </div>
        {% endif %}
        {% if not tabs.third.disabled %}
        <div role="tabpanel" class="tab-pane" id="third-tab">{% block tab_third %}
            <div id="detail">
                <h4>Select an object from the list</h4>
            </div>
            <p>...</p>{% endblock %}
        </div>
        {% endif %}
        {% if not tabs.fourth.disabled %}
        <div role="tabpanel" class="tab-pane" id="fourth-tab">{% block tab_fourth %}
            <h4>Help</h4>
            <div id="help">
                <h4>Help text</h4>
            </div>
            <p>...</p>{% endblock %}
        </div>
        {% endif %}
      </div>

    </div>

</div>


{% endblock %}

